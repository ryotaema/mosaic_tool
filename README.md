# mosaic_tool

YOLOなどの物体検出モデルの学習データセットにおいて,**「アノテーション漏れ」や「誤って写り込んだ同種物体」**をモザイク処理で隠すために作成したGUIツールです.

これらの物体を「背景（無視すべき領域）」として学習させることを防ぎ,モデルの検出精度（Recall）低下を抑制します.

## 主な機能

* **マウス操作によるモザイク:** ドラッグするだけで指定領域にモザイクを適用できます.
* **高速なデータ選別:** ショートカットキーを使って,保存・スキップ・戻る操作を行えます.

## 動作環境

* Python 3.10
* 以下のライブラリが必要です:
  * OpenCV (`opencv-python`)
  * NumPy (`numpy`)

## インストール

```bash
pip install opencv-python numpy
```

## 使い方

1. Pythonスクリプトを実行します．
```
python mosaic_tool.py
```

2. フォルダ選択ダイアログが表示されるので,処理したい画像が入っているフォルダを選択します.

3. 画像が表示されたら,マウスとキーボードで操作を行います.

4. 全ての画像の処理が終わるか,Qキーを押すと終了します.

## 注意事項

* **上書き保存について:** Dキーを押すと,元の画像ファイルが上書き保存されます.元に戻すことはできません.
* **推奨:** 作業前に必ずデータセットフォルダの**バックアップ**を取ってください.
* モザイクの強度調整: ソースコード内の self.mosaic_ratio = 0.04 の数値を変更することで,モザイクの目の粗さを調整できます（数値が小さいほど荒くなります）.